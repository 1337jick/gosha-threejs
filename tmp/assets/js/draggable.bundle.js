(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["draggable"],{

/***/ "./src/js/components/vanilla/draggable.js":
/*!************************************************!*\
  !*** ./src/js/components/vanilla/draggable.js ***!
  \************************************************/
/*! exports provided: qs, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"qs\", function() { return qs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return draggable; });\n/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gsap */ \"./node_modules/gsap/index.js\");\n/* harmony import */ var lodash_function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/function */ \"./node_modules/lodash/function.js\");\n/* harmony import */ var lodash_function__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_function__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var models_locker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/locker */ \"./src/js/models/locker.js\");\n/* harmony import */ var models_breakpoints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! models/breakpoints */ \"./src/js/models/breakpoints.js\");\n/* harmony import */ var models_utils_event_bus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! models/utils/event-bus */ \"./src/js/models/utils/event-bus.js\");\n/*** IMPORTS FROM imports-loader ***/var define=false;function rect(el){return el.getBoundingClientRect();}var qs=function qs(s,o){if(o===void 0){o=document;}return o.querySelector(s);};var qsa=function qsa(s,o){if(o===void 0){o=document;}return o.querySelectorAll(s);};var isDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);var bounds={ww:window.innerWidth,wh:window.innerHeight};var mouseX=0;var mouseY=0;function draggable(element){var properties={el:element,container:qs('.js-slides',element),title:{element:qs('.js-slider-title',element),visible:true},slides:Array.from(qsa('.js-slide',element)),state:{target:0,current:0,pos:0,diff:0,on:0,cancel:{x:0,y:0},max:0,dragging:false,resizing:false},opts:{speed:1.75,ease:0.075},events:{move:isDevice?'touchmove':'mousemove',down:isDevice?'touchstart':'mousedown',up:isDevice?'touchend':'mouseup'}};properties.total=properties.slides.length-1;function addEvents(){var _properties$events=properties.events,move=_properties$events.move,down=_properties$events.down,up=_properties$events.up;element.addEventListener(up,upCallback);element.addEventListener(down,downCallback);element.addEventListener(move,moveCallback);window.addEventListener('resize',Object(lodash_function__WEBPACK_IMPORTED_MODULE_1__[\"debounce\"])(resize,300));gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ticker.add(run);}function getCache(){var ww=bounds.ww;properties.cache=properties.slides.map(function(el,i){el.style.transform='translate3d(0, 0, 0)';var _rect=rect(el),left=_rect.left,right=_rect.right,width=_rect.width;var inner=qs('.js-slide-img',el);i===properties.total&&(properties.state.max=right-ww+40);// 40 - final padding from right when all draggable was scrolled\nreturn{el:el,inner:inner,left:left,width:width,start:left-ww-100,end:right+100,out:true};});}function getPos(e){var x=e.changedTouches?e.changedTouches[0].clientX:e.clientX;var y=e.changedTouches?e.changedTouches[0].clientY:e.clientY;var target=e.target;return{x:x,y:y,target:target};}var downCallback=function downCallback(e){Object(models_locker__WEBPACK_IMPORTED_MODULE_2__[\"lockPage\"])();var _getPos=getPos(e),x=_getPos.x,y=_getPos.y;var state=properties.state;state.dragging=true;state.cancel.x=x;state.cancel.y=y;state.on=state.target+x*properties.opts.speed;};var moveCallback=function moveCallback(e){var state=properties.state;if(!state.dragging)return;mouseY=e.clientY;mouseX=e.clientX;if(15>mouseX||window.innerWidth-15<mouseX){upCallback();}gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.cursor-move-outer',{x:mouseX,y:mouseY,force3D:true,overwrite:true,ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:0.7});var cancel=state.cancel;var _getPos2=getPos(e),x=_getPos2.x,y=_getPos2.y;if(Math.abs(x-cancel.x)>Math.abs(y-cancel.y)&&e.cancelable){e.preventDefault();e.stopPropagation();}state.target=state.on-x*properties.opts.speed;clamp();};var upCallback=function upCallback(){Object(models_locker__WEBPACK_IMPORTED_MODULE_2__[\"unlockPage\"])();if(!properties.state.dragging)return;properties.state.dragging=false;};var animateTitle=function animateTitle(imageOverflowsTitle){gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to(properties.title.element,{opacity:imageOverflowsTitle?0:1,duration:0.2,ease:imageOverflowsTitle?'power3.in':'power3.out'});properties.title.visible=!imageOverflowsTitle;};function clamp(){var state=properties.state;state.target=gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].utils.clamp(0,state.max,state.target);}function visible(_ref,current){var start=_ref.start,end=_ref.end,width=_ref.width,left=_ref.left;var visible=current>start&&current<end;var progress=0;visible&&(progress=gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].utils.clamp(0,1,1+(current-left-width)/(bounds.ww+width)));return{visible:visible,progress:progress};}var run=function run(){var state=properties.state;state.current+=(state.target-state.current)*properties.opts.ease;state.pos=Math.round(state.current*100)/100;state.diff=(state.target-state.current)*0.0075;state.diff=Math.round(state.diff*100)/100;!state.resizing&&transformSections();};function transformSections(){var state=properties.state;var current=state.pos;if(models_breakpoints__WEBPACK_IMPORTED_MODULE_3__[\"currentlyActiveBreakpoints\"].includes('tablet')&&properties.title.element!=null){var titleRightX=properties.title.element.getBoundingClientRect().right;var firstSlideLeftX=properties.slides[0].getBoundingClientRect().left;if(titleRightX<firstSlideLeftX){if(!properties.title.visible){animateTitle(false);}}else{if(properties.title.visible){animateTitle(true);}}}properties.cache.length&&properties.cache.forEach(function(c){var _visible=visible(c,current),isVisible=_visible.visible,progress=_visible.progress;if(isVisible||state.resizing){c.out&&(c.out=false);transform(c.el,c.inner,progress,current);}else if(!c.out){c.out=true;transform(c.el,c.inner,progress,current);}});}function transform(el,inner,progress,current,diff){if(diff===void 0){diff=properties.state.diff;}var spread=gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].utils.clamp(-100,100,(-25*progress+25)*diff);var translate=-(current+spread);el.style.transform=\"translate3d(\"+translate+\"px, 0, 0)\";}var resize=function resize(){properties.state.resizing=true;bounds.ww=window.innerWidth;bounds.wh=window.innerHeight;getCache();transformSections();properties.state.resizing=false;};function addListeners(){Object(models_utils_event_bus__WEBPACK_IMPORTED_MODULE_4__[\"listen\"])('stagger-fade-finished',init);}function init(){getCache();addEvents();}addListeners();}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy92YW5pbGxhL2RyYWdnYWJsZS5qcz8xNjliIl0sIm5hbWVzIjpbImRlZmluZSIsInJlY3QiLCJlbCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInFzIiwicyIsIm8iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJxc2EiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXNEZXZpY2UiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYm91bmRzIiwid3ciLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwid2giLCJpbm5lckhlaWdodCIsIm1vdXNlWCIsIm1vdXNlWSIsImRyYWdnYWJsZSIsImVsZW1lbnQiLCJwcm9wZXJ0aWVzIiwiY29udGFpbmVyIiwidGl0bGUiLCJ2aXNpYmxlIiwic2xpZGVzIiwiQXJyYXkiLCJmcm9tIiwic3RhdGUiLCJ0YXJnZXQiLCJjdXJyZW50IiwicG9zIiwiZGlmZiIsIm9uIiwiY2FuY2VsIiwieCIsInkiLCJtYXgiLCJkcmFnZ2luZyIsInJlc2l6aW5nIiwib3B0cyIsInNwZWVkIiwiZWFzZSIsImV2ZW50cyIsIm1vdmUiLCJkb3duIiwidXAiLCJ0b3RhbCIsImxlbmd0aCIsImFkZEV2ZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1cENhbGxiYWNrIiwiZG93bkNhbGxiYWNrIiwibW92ZUNhbGxiYWNrIiwiZGVib3VuY2UiLCJyZXNpemUiLCJnc2FwIiwidGlja2VyIiwiYWRkIiwicnVuIiwiZ2V0Q2FjaGUiLCJjYWNoZSIsIm1hcCIsImkiLCJzdHlsZSIsInRyYW5zZm9ybSIsImxlZnQiLCJyaWdodCIsIndpZHRoIiwiaW5uZXIiLCJzdGFydCIsImVuZCIsIm91dCIsImdldFBvcyIsImUiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwibG9ja1BhZ2UiLCJ0byIsImZvcmNlM0QiLCJvdmVyd3JpdGUiLCJFeHBvIiwiZWFzZU91dCIsImR1cmF0aW9uIiwiTWF0aCIsImFicyIsImNhbmNlbGFibGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImNsYW1wIiwidW5sb2NrUGFnZSIsImFuaW1hdGVUaXRsZSIsImltYWdlT3ZlcmZsb3dzVGl0bGUiLCJvcGFjaXR5IiwidXRpbHMiLCJwcm9ncmVzcyIsInJvdW5kIiwidHJhbnNmb3JtU2VjdGlvbnMiLCJjdXJyZW50bHlBY3RpdmVCcmVha3BvaW50cyIsImluY2x1ZGVzIiwidGl0bGVSaWdodFgiLCJmaXJzdFNsaWRlTGVmdFgiLCJmb3JFYWNoIiwiYyIsImlzVmlzaWJsZSIsInNwcmVhZCIsInRyYW5zbGF0ZSIsImFkZExpc3RlbmVycyIsImxpc3RlbiIsImluaXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHFDQUNBLEdBQUlBLE9BQU0sQ0FBRyxLQUFiLENBUUEsUUFBU0MsS0FBVCxDQUFjQyxFQUFkLENBQWtCLENBQ2QsTUFBT0EsR0FBRSxDQUFDQyxxQkFBSCxFQUFQLENBQ0gsQ0FFTSxHQUFNQyxHQUFFLENBQUcsUUFBTEEsR0FBSyxDQUFDQyxDQUFELENBQUlDLENBQUosS0FBSUEsQ0FBSixXQUFJQSxDQUFKLENBQVFDLFFBQVIsUUFBcUJELEVBQUMsQ0FBQ0UsYUFBRixDQUFnQkgsQ0FBaEIsQ0FBckIsRUFBWCxDQUNQLEdBQU1JLElBQUcsQ0FBRyxRQUFOQSxJQUFNLENBQUNKLENBQUQsQ0FBSUMsQ0FBSixLQUFJQSxDQUFKLFdBQUlBLENBQUosQ0FBUUMsUUFBUixRQUFxQkQsRUFBQyxDQUFDSSxnQkFBRixDQUFtQkwsQ0FBbkIsQ0FBckIsRUFBWixDQUVBLEdBQU1NLFNBQVEsQ0FBRyxpRUFBaUVDLElBQWpFLENBQ2JDLFNBQVMsQ0FBQ0MsU0FERyxDQUFqQixDQUlBLEdBQUlDLE9BQU0sQ0FBRyxDQUNUQyxFQUFFLENBQUVDLE1BQU0sQ0FBQ0MsVUFERixDQUVUQyxFQUFFLENBQUVGLE1BQU0sQ0FB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RixNQUFNLENBQUNHLFdBQW5CLENBRUE0QyxRQUFRLEdBQ1JzQyxpQkFBaUIsR0FFakI3RSxVQUFVLENBQUNPLEtBQVgsQ0FBaUJXLFFBQWpCLENBQTRCLEtBQTVCLENBQ0gsQ0FWRCxDQVlBLFFBQVNxRSxhQUFULEVBQXdCLENBQ3BCQyxxRUFBTSxDQUFDLHVCQUFELENBQTBCQyxJQUExQixDQUFOLENBQ0gsQ0FFRCxRQUFTQSxLQUFULEVBQWdCLENBQ1psRCxRQUFRLEdBQ1JYLFNBQVMsR0FDWixDQUVEMkQsWUFBWSxHQUNmIiwiZmlsZSI6Ii4vc3JjL2pzL2NvbXBvbmVudHMvdmFuaWxsYS9kcmFnZ2FibGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbmltcG9ydCBnc2FwLCB7IEV4cG8gfSBmcm9tICdnc2FwJztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoL2Z1bmN0aW9uJztcbmltcG9ydCB7IGxvY2tQYWdlLCB1bmxvY2tQYWdlIH0gZnJvbSAnbW9kZWxzL2xvY2tlcic7XG5pbXBvcnQgeyBjdXJyZW50bHlBY3RpdmVCcmVha3BvaW50cyB9IGZyb20gJ21vZGVscy9icmVha3BvaW50cyc7XG5pbXBvcnQgeyBsaXN0ZW4gfSBmcm9tICdtb2RlbHMvdXRpbHMvZXZlbnQtYnVzJztcblxuZnVuY3Rpb24gcmVjdChlbCkge1xuICAgIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cblxuZXhwb3J0IGNvbnN0IHFzID0gKHMsIG8gPSBkb2N1bWVudCkgPT4gby5xdWVyeVNlbGVjdG9yKHMpO1xuY29uc3QgcXNhID0gKHMsIG8gPSBkb2N1bWVudCkgPT4gby5xdWVyeVNlbGVjdG9yQWxsKHMpO1xuXG5jb25zdCBpc0RldmljZSA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50XG4pO1xuXG5sZXQgYm91bmRzID0ge1xuICAgIHd3OiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICB3aDogd2luZG93LmlubmVySGVpZ2h0LFxufTtcblxubGV0IG1vdXNlWCA9IDA7XG5sZXQgbW91c2VZID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZHJhZ2dhYmxlKGVsZW1lbnQpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge1xuICAgICAgICBlbDogZWxlbWVudCxcbiAgICAgICAgY29udGFpbmVyOiBxcygnLmpzLXNsaWRlcycsIGVsZW1lbnQpLFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgZWxlbWVudDogcXMoJy5qcy1zbGlkZXItdGl0bGUnLCBlbGVtZW50KSxcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHNsaWRlczogQXJyYXkuZnJvbShxc2EoJy5qcy1zbGlkZScsIGVsZW1lbnQpKSxcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIHRhcmdldDogMCxcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICAgICAgICBwb3M6IDAsXG4gICAgICAgICAgICBkaWZmOiAwLFxuICAgICAgICAgICAgb246IDAsXG4gICAgICAgICAgICBjYW5jZWw6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWF4OiAwLFxuICAgICAgICAgICAgZHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgcmVzaXppbmc6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBvcHRzOiB7XG4gICAgICAgICAgICBzcGVlZDogMS43NSxcbiAgICAgICAgICAgIGVhc2U6IDAuMDc1LFxuICAgICAgICB9LFxuICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgIG1vdmU6IGlzRGV2aWNlID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIGRvd246IGlzRGV2aWNlID8gJ3RvdWNoc3RhcnQnIDogJ21vdXNlZG93bicsXG4gICAgICAgICAgICB1cDogaXNEZXZpY2UgPyAndG91Y2hlbmQnIDogJ21vdXNldXAnLFxuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBwcm9wZXJ0aWVzLnRvdGFsID0gcHJvcGVydGllcy5zbGlkZXMubGVuZ3RoIC0gMTtcblxuICAgIGZ1bmN0aW9uIGFkZEV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgeyBtb3ZlLCBkb3duLCB1cCB9ID0gcHJvcGVydGllcy5ldmVudHM7XG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHVwLCB1cENhbGxiYWNrKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGRvd24sIGRvd25DYWxsYmFjayk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3ZlLCBtb3ZlQ2FsbGJhY2spO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2UocmVzaXplLCAzMDApKTtcblxuICAgICAgICBnc2FwLnRpY2tlci5hZGQocnVuKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDYWNoZSgpIHtcbiAgICAgICAgY29uc3QgeyB3dyB9ID0gYm91bmRzO1xuICAgICAgICBwcm9wZXJ0aWVzLmNhY2hlID0gcHJvcGVydGllcy5zbGlkZXMubWFwKChlbCwgaSkgPT4ge1xuICAgICAgICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDAsIDAsIDApJztcblxuICAgICAgICAgICAgY29uc3QgeyBsZWZ0LCByaWdodCwgd2lkdGggfSA9IHJlY3QoZWwpO1xuICAgICAgICAgICAgY29uc3QgaW5uZXIgPSBxcygnLmpzLXNsaWRlLWltZycsIGVsKTtcblxuICAgICAgICAgICAgaSA9PT0gcHJvcGVydGllcy50b3RhbCAmJiAocHJvcGVydGllcy5zdGF0ZS5tYXggPSByaWdodCAtIHd3ICsgNDApOyAvLyA0MCAtIGZpbmFsIHBhZGRpbmcgZnJvbSByaWdodCB3aGVuIGFsbCBkcmFnZ2FibGUgd2FzIHNjcm9sbGVkXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgICAgaW5uZXIsXG4gICAgICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBzdGFydDogbGVmdCAtIHd3IC0gMTAwLFxuICAgICAgICAgICAgICAgIGVuZDogcmlnaHQgKyAxMDAsXG4gICAgICAgICAgICAgICAgb3V0OiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UG9zKGUpIHtcbiAgICAgICAgY29uc3QgeCA9IGUuY2hhbmdlZFRvdWNoZXMgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFggOiBlLmNsaWVudFg7XG4gICAgICAgIGNvbnN0IHkgPSBlLmNoYW5nZWRUb3VjaGVzID8gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIDogZS5jbGllbnRZO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgZG93bkNhbGxiYWNrID0gKGUpID0+IHtcbiAgICAgICAgbG9ja1BhZ2UoKTtcblxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGdldFBvcyhlKTtcblxuICAgICAgICBjb25zdCBzdGF0ZSA9IHByb3BlcnRpZXMuc3RhdGU7XG5cbiAgICAgICAgc3RhdGUuZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgICAgIHN0YXRlLmNhbmNlbC54ID0geDtcbiAgICAgICAgc3RhdGUuY2FuY2VsLnkgPSB5O1xuXG4gICAgICAgIHN0YXRlLm9uID0gc3RhdGUudGFyZ2V0ICsgeCAqIHByb3BlcnRpZXMub3B0cy5zcGVlZDtcbiAgICB9O1xuXG4gICAgY29uc3QgbW92ZUNhbGxiYWNrID0gKGUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBwcm9wZXJ0aWVzLnN0YXRlO1xuXG4gICAgICAgIGlmICghc3RhdGUuZHJhZ2dpbmcpIHJldHVybjtcblxuICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFk7XG4gICAgICAgIG1vdXNlWCA9IGUuY2xpZW50WDtcblxuICAgICAgICBpZiAoMTUgPiBtb3VzZVggfHwgd2luZG93LmlubmVyV2lkdGggLSAxNSA8IG1vdXNlWCkge1xuICAgICAgICAgICAgdXBDYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3NhcC50bygnLmN1cnNvci1tb3ZlLW91dGVyJywge1xuICAgICAgICAgICAgeDogbW91c2VYLFxuICAgICAgICAgICAgeTogbW91c2VZLFxuICAgICAgICAgICAgZm9yY2UzRDogdHJ1ZSxcbiAgICAgICAgICAgIG92ZXJ3cml0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLjcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHsgY2FuY2VsIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBnZXRQb3MoZSk7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHggLSBjYW5jZWwueCkgPiBNYXRoLmFicyh5IC0gY2FuY2VsLnkpICYmIGUuY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLnRhcmdldCA9IHN0YXRlLm9uIC0geCAqIHByb3BlcnRpZXMub3B0cy5zcGVlZDtcbiAgICAgICAgY2xhbXAoKTtcbiAgICB9O1xuXG4gICAgY29uc3QgdXBDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgdW5sb2NrUGFnZSgpO1xuXG4gICAgICAgIGlmICghcHJvcGVydGllcy5zdGF0ZS5kcmFnZ2luZykgcmV0dXJuO1xuICAgICAgICBwcm9wZXJ0aWVzLnN0YXRlLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGNvbnN0IGFuaW1hdGVUaXRsZSA9IChpbWFnZU92ZXJmbG93c1RpdGxlKSA9PiB7XG4gICAgICAgIGdzYXAudG8ocHJvcGVydGllcy50aXRsZS5lbGVtZW50LCB7XG4gICAgICAgICAgICBvcGFjaXR5OiBpbWFnZU92ZXJmbG93c1RpdGxlID8gMCA6IDEsXG4gICAgICAgICAgICBkdXJhdGlvbjogMC4yLFxuICAgICAgICAgICAgZWFzZTogaW1hZ2VPdmVyZmxvd3NUaXRsZSA/ICdwb3dlcjMuaW4nIDogJ3Bvd2VyMy5vdXQnLFxuICAgICAgICB9KTtcbiAgICAgICAgcHJvcGVydGllcy50aXRsZS52aXNpYmxlID0gIWltYWdlT3ZlcmZsb3dzVGl0bGU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNsYW1wKCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHByb3BlcnRpZXMuc3RhdGU7XG4gICAgICAgIHN0YXRlLnRhcmdldCA9IGdzYXAudXRpbHMuY2xhbXAoMCwgc3RhdGUubWF4LCBzdGF0ZS50YXJnZXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpc2libGUoeyBzdGFydCwgZW5kLCB3aWR0aCwgbGVmdCB9LCBjdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHZpc2libGUgPSBjdXJyZW50ID4gc3RhcnQgJiYgY3VycmVudCA8IGVuZDtcbiAgICAgICAgbGV0IHByb2dyZXNzID0gMDtcblxuICAgICAgICB2aXNpYmxlICYmXG4gICAgICAgICAgICAocHJvZ3Jlc3MgPSBnc2FwLnV0aWxzLmNsYW1wKDAsIDEsIDEgKyAoY3VycmVudCAtIGxlZnQgLSB3aWR0aCkgLyAoYm91bmRzLnd3ICsgd2lkdGgpKSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZpc2libGUsXG4gICAgICAgICAgICBwcm9ncmVzcyxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBydW4gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gcHJvcGVydGllcy5zdGF0ZTtcblxuICAgICAgICBzdGF0ZS5jdXJyZW50ICs9IChzdGF0ZS50YXJnZXQgLSBzdGF0ZS5jdXJyZW50KSAqIHByb3BlcnRpZXMub3B0cy5lYXNlO1xuICAgICAgICBzdGF0ZS5wb3MgPSBNYXRoLnJvdW5kKHN0YXRlLmN1cnJlbnQgKiAxMDApIC8gMTAwO1xuICAgICAgICBzdGF0ZS5kaWZmID0gKHN0YXRlLnRhcmdldCAtIHN0YXRlLmN1cnJlbnQpICogMC4wMDc1O1xuICAgICAgICBzdGF0ZS5kaWZmID0gTWF0aC5yb3VuZChzdGF0ZS5kaWZmICogMTAwKSAvIDEwMDtcblxuICAgICAgICAhc3RhdGUucmVzaXppbmcgJiYgdHJhbnNmb3JtU2VjdGlvbnMoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtU2VjdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gcHJvcGVydGllcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHN0YXRlLnBvcztcblxuICAgICAgICBpZiAoY3VycmVudGx5QWN0aXZlQnJlYWtwb2ludHMuaW5jbHVkZXMoJ3RhYmxldCcpICYmIHByb3BlcnRpZXMudGl0bGUuZWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0aXRsZVJpZ2h0WCA9IHByb3BlcnRpZXMudGl0bGUuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0U2xpZGVMZWZ0WCA9IHByb3BlcnRpZXMuc2xpZGVzWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICAgICAgICBpZiAodGl0bGVSaWdodFggPCBmaXJzdFNsaWRlTGVmdFgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXByb3BlcnRpZXMudGl0bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlVGl0bGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMudGl0bGUudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlVGl0bGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5jYWNoZS5sZW5ndGggJiZcbiAgICAgICAgICAgIHByb3BlcnRpZXMuY2FjaGUuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmlzaWJsZTogaXNWaXNpYmxlLCBwcm9ncmVzcyB9ID0gdmlzaWJsZShjLCBjdXJyZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc1Zpc2libGUgfHwgc3RhdGUucmVzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5vdXQgJiYgKGMub3V0ID0gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0oYy5lbCwgYy5pbm5lciwgcHJvZ3Jlc3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWMub3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGMub3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtKGMuZWwsIGMuaW5uZXIsIHByb2dyZXNzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0oZWwsIGlubmVyLCBwcm9ncmVzcywgY3VycmVudCwgZGlmZiA9IHByb3BlcnRpZXMuc3RhdGUuZGlmZikge1xuICAgICAgICBjb25zdCBzcHJlYWQgPSBnc2FwLnV0aWxzLmNsYW1wKC0xMDAsIDEwMCwgKC0yNSAqIHByb2dyZXNzICsgMjUpICogZGlmZik7XG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZSA9IC0oY3VycmVudCArIHNwcmVhZCk7XG5cbiAgICAgICAgZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHJhbnNsYXRlfXB4LCAwLCAwKWA7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzaXplID0gKCkgPT4ge1xuICAgICAgICBwcm9wZXJ0aWVzLnN0YXRlLnJlc2l6aW5nID0gdHJ1ZTtcblxuICAgICAgICBib3VuZHMud3cgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgYm91bmRzLndoID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgIGdldENhY2hlKCk7XG4gICAgICAgIHRyYW5zZm9ybVNlY3Rpb25zKCk7XG5cbiAgICAgICAgcHJvcGVydGllcy5zdGF0ZS5yZXNpemluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGxpc3Rlbignc3RhZ2dlci1mYWRlLWZpbmlzaGVkJywgaW5pdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgZ2V0Q2FjaGUoKTtcbiAgICAgICAgYWRkRXZlbnRzKCk7XG4gICAgfVxuXG4gICAgYWRkTGlzdGVuZXJzKCk7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/components/vanilla/draggable.js\n");

/***/ })

}]);