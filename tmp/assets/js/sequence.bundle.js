(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["sequence"],{

/***/ "./src/js/components/vanilla/sequence.js":
/*!***********************************************!*\
  !*** ./src/js/components/vanilla/sequence.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return sequence; });\n/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gsap */ \"./node_modules/gsap/index.js\");\n/* harmony import */ var gsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap/ScrollTrigger */ \"./node_modules/gsap/ScrollTrigger.js\");\n/* harmony import */ var models_utils_preload_images__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/utils/preload-images */ \"./src/js/models/utils/preload-images.js\");\n/* harmony import */ var models_utils_calc_draw_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! models/utils/calc-draw-image */ \"./src/js/models/utils/calc-draw-image.js\");\n/* harmony import */ var models_breakpoints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! models/breakpoints */ \"./src/js/models/breakpoints.js\");\n/* harmony import */ var models_utils_event_bus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! models/utils/event-bus */ \"./src/js/models/utils/event-bus.js\");\n/*** IMPORTS FROM imports-loader ***/var define=false;function sequence(element){var elements={caption:element.querySelector('.js-sequence__caption'),subtitle:element.querySelector('.js-sequence__subtitle'),title:element.querySelector('.js-sequence__title'),container:element.querySelector('.js-sequence__container'),captionsContainer:element.querySelector('.js-sequence__captions-container'),captions:element.querySelectorAll('.js-sequence__title')};var activeBreakpoints=models_breakpoints__WEBPACK_IMPORTED_MODULE_4__[\"currentlyActiveBreakpoints\"];var size={width:3840,height:2160};var windowWidth;var windowHeight;// gold sequence vars\nvar canvas=elements.container.querySelector('canvas');var urls=[].concat(new Array(180)).fill(undefined).map(function(value,index){return\"assets/img/sequence/Gold_dark\"+index.toString().padStart(4,'0')+\".webp\";});// load images async\nvar images;var ctx;if(activeBreakpoints.includes('tablet')){images=Object(models_utils_preload_images__WEBPACK_IMPORTED_MODULE_2__[\"preloadImages\"])(urls);ctx=canvas.getContext('2d');ctx.canvas.width=size.width;ctx.canvas.height=size.height;}// silver sequence vars\nvar canvasSilver=element.querySelector('.js-sequence__silver-canvas');var urlsSilver=[].concat(new Array(90)).fill(undefined).map(function(value,index){return\"assets/img/sequence/silver_\"+index.toString().padStart(5,'0')+\".webp\";});var imagesSilver;var ctxSilver;if(activeBreakpoints.includes('tablet')){imagesSilver=Object(models_utils_preload_images__WEBPACK_IMPORTED_MODULE_2__[\"preloadImages\"])(urlsSilver);ctxSilver=canvasSilver.getContext('2d');ctxSilver.canvas.width=size.width;ctxSilver.canvas.height=size.height;}// triggers for gsap\nvar silverEggScale;var cardRevealTrigger;var cardMinimizeEndTrigger;if(!activeBreakpoints.includes('mobile-landscape')){silverEggScale=0.8;cardRevealTrigger='bottom top-=95%';cardMinimizeEndTrigger='+=95%';}else{silverEggScale=0.7;cardRevealTrigger='bottom top-=100%';cardMinimizeEndTrigger='+=100%';}function init(){getWindowDim();addListeners();initScene();}function addListeners(){Object(models_utils_event_bus__WEBPACK_IMPORTED_MODULE_5__[\"listen\"])('window-resized',getWindowDim);}function getWindowDim(){windowWidth=window.innerWidth;windowHeight=window.innerHeight;}function initScene(){// title in trigger animations\nvar captionTitles=gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timeline({defaults:{overwrite:'auto'},scrollTrigger:{trigger:elements.captionsContainer,end:'100%',start:'top top',scrub:true}});captionTitles.set(elements.captions,{transformOrigin:'center bottom'});captionTitles.from(elements.captions,{opacity:0,y:300,stagger:1,ease:'none'}).to(elements.captions,{opacity:0,stagger:1,y:-300,ease:'none'},0.8);// Sequence trigger animation\nvar tl=new gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timeline({scrollTrigger:{trigger:elements.container,scrub:true,start:'top top',end:'165%'// scene duration\n}});// pin black gold egg container\n// pinType: transform is required when use pin with smooth scrollbar\nvar blackContainer=new gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timeline({scrollTrigger:{trigger:elements.container,scrub:true,start:'top top',end:'200%',// pin till section fully covered so 200%\npin:true,pinType:'transform'}});// pin caption container to fix them while slider\nvar captionsContainer=new gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timeline({scrollTrigger:{trigger:elements.captionsContainer,scrub:true,start:'top top',end:'100%',// pin till section fully covered so 200%\npin:true,pinType:'transform'}});// pin silver egg\nvar silverContainer=new gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timeline({scrollTrigger:{trigger:'.js-sequence__silver-content',scrub:true,start:'top top',end:'240%',pin:true,pinType:'transform'}});// smaller card\nvar tl4=gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timeline({scrollTrigger:{trigger:'.js-sequence__black-content',scrub:true,start:'bottom top',end:cardMinimizeEndTrigger}});// sequence silver egg\nvar tl5=new gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].timeline({scrollTrigger:{trigger:'.js-navigation__section--intro',scrub:true,start:'top center+=100',end:'+=600'}});if(!activeBreakpoints.includes('mobile-landscape')){tl4.fromTo('.js-sequence__silver-bg',{width:function width(){return windowWidth+windowWidth/100;},height:function height(){return windowHeight+windowHeight/100;}},{width:windowWidth-48,height:466,ease:'none'});}else{tl4.fromTo('.js-sequence__silver-bg',{width:function width(){return windowWidth+windowWidth/100;},height:function height(){return windowHeight+windowHeight/100;}},{width:427,height:600,ease:'none'});}gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-egg',{scrollTrigger:{trigger:'.js-sequence__black-content',scrub:true,start:'bottom top',end:cardMinimizeEndTrigger},scale:silverEggScale,ease:'none'});// 3d eggs\nif(!activeBreakpoints.includes('mobile-landscape')){gsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({trigger:'.js-sequence__black-content',start:cardRevealTrigger,onEnter:function onEnter(){gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-card',{top:'65%',ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__gold-card',{top:'45%',ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});},onLeaveBack:function onLeaveBack(){gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-card',{top:'50%',ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__gold-card',{top:'50%',ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});}});}else{gsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({trigger:'.js-sequence__black-content',start:cardRevealTrigger,onEnter:function onEnter(){gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-card',{rotationY:-10,ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__gold-card',{rotationY:-10,translateZ:-50,left:'40%',ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});},onLeaveBack:function onLeaveBack(){gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-card',{rotationY:0,ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__gold-card',{rotationY:0,translateZ:0,left:'50%',ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].easeOut,duration:1});}});// gsap.to('.js-sequence__silver-card', {\n//     scrollTrigger: {\n//         trigger: \".js-sequence__silver-content\",\n//         start: '220%',\n//         end: '2',\n//         scrub: true,\n//     },\n//     translateY: '100px',\n//     ease: 'none',\n// });\n// gsap.to('.js-sequence__gold-card', {\n//     scrollTrigger: {\n//         trigger: \".js-sequence__black-content\",\n//         start: cardRevealTrigger,\n//         end: '+=40%',\n//         scrub: true,\n//     },\n//     translateY: '100px',\n//     ease: 'none',\n// });\n}// silver egg show caption and QR\ngsap_ScrollTrigger__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({trigger:'.js-sequence__black-content',start:cardRevealTrigger,onEnter:function onEnter(){gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-caption',{alpha:1,ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].ease,duration:0.4});gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-icon',{alpha:1,ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].ease,duration:0.4});},onLeaveBack:function onLeaveBack(){gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-caption',{alpha:0,ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].ease,duration:0.4});gsap__WEBPACK_IMPORTED_MODULE_0__[\"default\"].to('.js-sequence__silver-icon',{alpha:0,ease:gsap__WEBPACK_IMPORTED_MODULE_0__[\"Expo\"].ease,duration:0.4});}});if(activeBreakpoints.includes('tablet')){// when all images ready\nimages.then(function(imgs){var counter={i:0};// iteration object\ntl.to(counter,{i:imgs.length-1,// increment counter to frames length\nroundProps:'i',// round, only int\nease:'none',// ease provided by smooth-scroll momentum\nimmediateRender:true,// render first frame immediately\nonUpdate:function onUpdate(){return Object(models_utils_calc_draw_image__WEBPACK_IMPORTED_MODULE_3__[\"calcDrawImage\"])(ctx,imgs[counter.i]);}// draw image in canvas when timeline update\n},0);// draw current frame again when scroll stopped and resize happened\nwindow.addEventListener('resize',function(){return Object(models_utils_calc_draw_image__WEBPACK_IMPORTED_MODULE_3__[\"calcDrawImage\"])(ctx,imgs[counter.i]);});});imagesSilver.then(function(imgs){var counter={i:0};// iteration object\ntl5.to(counter,{i:imgs.length-1,// increment counter to frames length\nroundProps:'i',// round, only int\nease:'none',// ease provided by smooth-scroll momentum\nimmediateRender:true,// render first frame immediately\nonUpdate:function onUpdate(){return Object(models_utils_calc_draw_image__WEBPACK_IMPORTED_MODULE_3__[\"calcDrawImage\"])(ctxSilver,imgs[counter.i]);}// draw image in canvas when timeline update\n},0);// draw current frame again when scroll stopped and resize happened\nwindow.addEventListener('resize',function(){return Object(models_utils_calc_draw_image__WEBPACK_IMPORTED_MODULE_3__[\"calcDrawImage\"])(ctxSilver,imgs[counter.i]);});});}}init();}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvY29tcG9uZW50cy92YW5pbGxhL3NlcXVlbmNlLmpzP2IzMDciXSwibmFtZXMiOlsiZGVmaW5lIiwic2VxdWVuY2UiLCJlbGVtZW50IiwiZWxlbWVudHMiLCJjYXB0aW9uIiwicXVlcnlTZWxlY3RvciIsInN1YnRpdGxlIiwidGl0bGUiLCJjb250YWluZXIiLCJjYXB0aW9uc0NvbnRhaW5lciIsImNhcHRpb25zIiwicXVlcnlTZWxlY3RvckFsbCIsImFjdGl2ZUJyZWFrcG9pbnRzIiwiY3VycmVudGx5QWN0aXZlQnJlYWtwb2ludHMiLCJzaXplIiwid2lkdGgiLCJoZWlnaHQiLCJ3aW5kb3dXaWR0aCIsIndpbmRvd0hlaWdodCIsImNhbnZhcyIsInVybHMiLCJBcnJheSIsImZpbGwiLCJ1bmRlZmluZWQiLCJtYXAiLCJ2YWx1ZSIsImluZGV4IiwidG9TdHJpbmciLCJwYWRTdGFydCIsImltYWdlcyIsImN0eCIsImluY2x1ZGVzIiwicHJlbG9hZEltYWdlcyIsImdldENvbnRleHQiLCJjYW52YXNTaWx2ZXIiLCJ1cmxzU2lsdmVyIiwiaW1hZ2VzU2lsdmVyIiwiY3R4U2lsdmVyIiwic2lsdmVyRWdnU2NhbGUiLCJjYXJkUmV2ZWFsVHJpZ2dlciIsImNhcmRNaW5pbWl6ZUVuZFRyaWdnZXIiLCJpbml0IiwiZ2V0V2luZG93RGltIiwiYWRkTGlzdGVuZXJzIiwiaW5pdFNjZW5lIiwibGlzdGVuIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2FwdGlvblRpdGxlcyIsImdzYXAiLCJ0aW1lbGluZSIsImRlZmF1bHRzIiwib3ZlcndyaXRlIiwic2Nyb2xsVHJpZ2dlciIsInRyaWdnZXIiLCJlbmQiLCJzdGFydCIsInNjcnViIiwic2V0IiwidHJhbnNmb3JtT3JpZ2luIiwiZnJvbSIsIm9wYWNpdHkiLCJ5Iiwic3RhZ2dlciIsImVhc2UiLCJ0byIsInRsIiwiYmxhY2tDb250YWluZXIiLCJwaW4iLCJwaW5UeXBlIiwic2lsdmVyQ29udGFpbmVyIiwidGw0IiwidGw1IiwiZnJvbVRvIiwic2NhbGUiLCJTY3JvbGxUcmlnZ2VyIiwiY3JlYXRlIiwib25FbnRlciIsInRvcCIsIkV4cG8iLCJlYXNlT3V0IiwiZHVyYXRpb24iLCJvbkxlYXZlQmFjayIsInJvdGF0aW9uWSIsInRyYW5zbGF0ZVoiLCJsZWZ0IiwiYWxwaGEiLCJ0aGVuIiwiaW1ncyIsImNvdW50ZXIiLCJpIiwibGVuZ3RoIiwicm91bmRQcm9wcyIsImltbWVkaWF0ZVJlbmRlciIsIm9uVXBkYXRlIiwiY2FsY0RyYXdJbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQ0FDQSxHQUFJQSxPQUFNLENBQUcsS0FBYixDQVNlLFFBQVNDLFNBQVQsQ0FBa0JDLE9BQWxCLENBQTJCLENBQ3RDLEdBQU1DLFNBQVEsQ0FBRyxDQUNiQyxPQUFPLENBQUVGLE9BQU8sQ0FBQ0csYUFBUixDQUFzQix1QkFBdEIsQ0FESSxDQUViQyxRQUFRLENBQUVKLE9BQU8sQ0FBQ0csYUFBUixDQUFzQix3QkFBdEIsQ0FGRyxDQUdiRSxLQUFLLENBQUVMLE9BQU8sQ0FBQ0csYUFBUixDQUFzQixxQkFBdEIsQ0FITSxDQUliRyxTQUFTLENBQUVOLE9BQU8sQ0FBQ0csYUFBUixDQUFzQix5QkFBdEIsQ0FKRSxDQUtiSSxpQkFBaUIsQ0FBRVAsT0FBTyxDQUFDRyxhQUFSLENBQXNCLGtDQUF0QixDQUxOLENBTWJLLFFBQVEsQ0FBRVIsT0FBTyxDQUFDUyxnQkFBUixDQUF5QixxQkFBekIsQ0FORyxDQUFqQixDQVNBLEdBQU1DLGtCQUFpQixDQUFHQyw2RUFBMUIsQ0FFQSxHQUFJQyxLQUFJLENBQUcsQ0FDUEMsS0FBSyxDQUFFLElBREEsQ0FFUEMsTUFBTSxDQUFFLElBRkQsQ0FBWCxDQUtBLEdBQUlDLFlBQUosQ0FDQSxHQUFJQyxhQUFKLENBRUE7QUFDQSxHQUFNQyxPQUFNLENB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QU8sQ0FBRyxDQUFFQyxDQUFDLENBQUUsQ0FBTCxDQUFoQixDQUEwQjtBQUUxQmxCLEdBQUcsQ0FBQ1AsRUFBSixDQUNJd0IsT0FESixDQUVJLENBQ0lDLENBQUMsQ0FBRUYsSUFBSSxDQUFDRyxNQUFMLENBQWMsQ0FEckIsQ0FDd0I7QUFDcEJDLFVBQVUsQ0FBRSxHQUZoQixDQUVxQjtBQUNqQjVCLElBQUksQ0FBRSxNQUhWLENBR2tCO0FBQ2Q2QixlQUFlLENBQUUsSUFKckIsQ0FJMkI7QUFDdkJDLFFBQVEsQ0FBRSwwQkFBTUMsbUZBQWEsQ0FBQzNELFNBQUQsQ0FBWW9ELElBQUksQ0FBQ0MsT0FBTyxDQUFDQyxDQUFULENBQWhCLENBQW5CLEVBQWlEO0FBTC9ELENBRkosQ0FTSSxDQVRKLEVBWUE7QUFDQTdDLE1BQU0sQ0FBQ21ELGdCQUFQLENBQXdCLFFBQXhCLENBQWtDLGlCQUFNRCxtRkFBYSxDQUFDM0QsU0FBRCxDQUFZb0QsSUFBSSxDQUFDQyxPQUFPLENBQUNDLENBQVQsQ0FBaEIsQ0FBbkIsRUFBbEMsRUFDSCxDQWpCRCxFQWtCSCxDQUNKLENBRURsRCxJQUFJLEdBQ1AiLCJmaWxlIjoiLi9zcmMvanMvY29tcG9uZW50cy92YW5pbGxhL3NlcXVlbmNlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xudmFyIGRlZmluZSA9IGZhbHNlO1xuXG5pbXBvcnQgZ3NhcCwgeyBFeHBvIH0gZnJvbSAnZ3NhcCc7XG5pbXBvcnQgU2Nyb2xsVHJpZ2dlciBmcm9tICdnc2FwL1Njcm9sbFRyaWdnZXInO1xuaW1wb3J0IHsgcHJlbG9hZEltYWdlcyB9IGZyb20gJ21vZGVscy91dGlscy9wcmVsb2FkLWltYWdlcyc7XG5pbXBvcnQgeyBjYWxjRHJhd0ltYWdlIH0gZnJvbSAnbW9kZWxzL3V0aWxzL2NhbGMtZHJhdy1pbWFnZSc7XG5pbXBvcnQgeyBjdXJyZW50bHlBY3RpdmVCcmVha3BvaW50cyB9IGZyb20gJ21vZGVscy9icmVha3BvaW50cyc7XG5pbXBvcnQgeyBsaXN0ZW4gfSBmcm9tICdtb2RlbHMvdXRpbHMvZXZlbnQtYnVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VxdWVuY2UoZWxlbWVudCkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0ge1xuICAgICAgICBjYXB0aW9uOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1zZXF1ZW5jZV9fY2FwdGlvbicpLFxuICAgICAgICBzdWJ0aXRsZTogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuanMtc2VxdWVuY2VfX3N1YnRpdGxlJyksXG4gICAgICAgIHRpdGxlOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1zZXF1ZW5jZV9fdGl0bGUnKSxcbiAgICAgICAgY29udGFpbmVyOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1zZXF1ZW5jZV9fY29udGFpbmVyJyksXG4gICAgICAgIGNhcHRpb25zQ29udGFpbmVyOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1zZXF1ZW5jZV9fY2FwdGlvbnMtY29udGFpbmVyJyksXG4gICAgICAgIGNhcHRpb25zOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1zZXF1ZW5jZV9fdGl0bGUnKSxcbiAgICB9O1xuXG4gICAgY29uc3QgYWN0aXZlQnJlYWtwb2ludHMgPSBjdXJyZW50bHlBY3RpdmVCcmVha3BvaW50cztcblxuICAgIGxldCBzaXplID0ge1xuICAgICAgICB3aWR0aDogMzg0MCxcbiAgICAgICAgaGVpZ2h0OiAyMTYwLFxuICAgIH07XG5cbiAgICBsZXQgd2luZG93V2lkdGg7XG4gICAgbGV0IHdpbmRvd0hlaWdodDtcblxuICAgIC8vIGdvbGQgc2VxdWVuY2UgdmFyc1xuICAgIGNvbnN0IGNhbnZhcyA9IGVsZW1lbnRzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdjYW52YXMnKTtcbiAgICBjb25zdCB1cmxzID0gWy4uLm5ldyBBcnJheSgxODApXVxuICAgICAgICAuZmlsbCh1bmRlZmluZWQpXG4gICAgICAgIC5tYXAoXG4gICAgICAgICAgICAodmFsdWUsIGluZGV4KSA9PlxuICAgICAgICAgICAgICAgIGBhc3NldHMvaW1nL3NlcXVlbmNlL0dvbGRfZGFyayR7aW5kZXgudG9TdHJpbmcoKS5wYWRTdGFydCg0LCAnMCcpfS53ZWJwYFxuICAgICAgICApO1xuXG4gICAgLy8gbG9hZCBpbWFnZXMgYXN5bmNcbiAgICBsZXQgaW1hZ2VzO1xuICAgIGxldCBjdHg7XG4gICAgaWYgKGFjdGl2ZUJyZWFrcG9pbnRzLmluY2x1ZGVzKCd0YWJsZXQnKSkge1xuICAgICAgICBpbWFnZXMgPSBwcmVsb2FkSW1hZ2VzKHVybHMpO1xuICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LmNhbnZhcy53aWR0aCA9IHNpemUud2lkdGg7XG4gICAgICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgLy8gc2lsdmVyIHNlcXVlbmNlIHZhcnNcbiAgICBjb25zdCBjYW52YXNTaWx2ZXIgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1zZXF1ZW5jZV9fc2lsdmVyLWNhbnZhcycpO1xuICAgIGNvbnN0IHVybHNTaWx2ZXIgPSBbLi4ubmV3IEFycmF5KDkwKV1cbiAgICAgICAgLmZpbGwodW5kZWZpbmVkKVxuICAgICAgICAubWFwKFxuICAgICAgICAgICAgKHZhbHVlLCBpbmRleCkgPT4gYGFzc2V0cy9pbWcvc2VxdWVuY2Uvc2lsdmVyXyR7aW5kZXgudG9TdHJpbmcoKS5wYWRTdGFydCg1LCAnMCcpfS53ZWJwYFxuICAgICAgICApO1xuICAgIGxldCBpbWFnZXNTaWx2ZXI7XG4gICAgbGV0IGN0eFNpbHZlcjtcblxuICAgIGlmIChhY3RpdmVCcmVha3BvaW50cy5pbmNsdWRlcygndGFibGV0JykpIHtcbiAgICAgICAgaW1hZ2VzU2lsdmVyID0gcHJlbG9hZEltYWdlcyh1cmxzU2lsdmVyKTtcbiAgICAgICAgY3R4U2lsdmVyID0gY2FudmFzU2lsdmVyLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGN0eFNpbHZlci5jYW52YXMud2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICBjdHhTaWx2ZXIuY2FudmFzLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8vIHRyaWdnZXJzIGZvciBnc2FwXG4gICAgbGV0IHNpbHZlckVnZ1NjYWxlO1xuICAgIGxldCBjYXJkUmV2ZWFsVHJpZ2dlcjtcbiAgICBsZXQgY2FyZE1pbmltaXplRW5kVHJpZ2dlcjtcbiAgICBpZiAoIWFjdGl2ZUJyZWFrcG9pbnRzLmluY2x1ZGVzKCdtb2JpbGUtbGFuZHNjYXBlJykpIHtcbiAgICAgICAgc2lsdmVyRWdnU2NhbGUgPSAwLjg7XG4gICAgICAgIGNhcmRSZXZlYWxUcmlnZ2VyID0gJ2JvdHRvbSB0b3AtPTk1JSc7XG4gICAgICAgIGNhcmRNaW5pbWl6ZUVuZFRyaWdnZXIgPSAnKz05NSUnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNpbHZlckVnZ1NjYWxlID0gMC43O1xuICAgICAgICBjYXJkUmV2ZWFsVHJpZ2dlciA9ICdib3R0b20gdG9wLT0xMDAlJztcbiAgICAgICAgY2FyZE1pbmltaXplRW5kVHJpZ2dlciA9ICcrPTEwMCUnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIGdldFdpbmRvd0RpbSgpO1xuICAgICAgICBhZGRMaXN0ZW5lcnMoKTtcbiAgICAgICAgaW5pdFNjZW5lKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTGlzdGVuZXJzKCkge1xuICAgICAgICBsaXN0ZW4oJ3dpbmRvdy1yZXNpemVkJywgZ2V0V2luZG93RGltKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXaW5kb3dEaW0oKSB7XG4gICAgICAgIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0U2NlbmUoKSB7XG4gICAgICAgIC8vIHRpdGxlIGluIHRyaWdnZXIgYW5pbWF0aW9uc1xuICAgICAgICBjb25zdCBjYXB0aW9uVGl0bGVzID0gZ3NhcC50aW1lbGluZSh7XG4gICAgICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgICAgIG92ZXJ3cml0ZTogJ2F1dG8nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiBlbGVtZW50cy5jYXB0aW9uc0NvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBlbmQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICBzdGFydDogJ3RvcCB0b3AnLFxuICAgICAgICAgICAgICAgIHNjcnViOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FwdGlvblRpdGxlcy5zZXQoZWxlbWVudHMuY2FwdGlvbnMsIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBib3R0b20nLFxuICAgICAgICB9KTtcblxuICAgICAgICBjYXB0aW9uVGl0bGVzXG4gICAgICAgICAgICAuZnJvbShlbGVtZW50cy5jYXB0aW9ucywge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgeTogMzAwLFxuICAgICAgICAgICAgICAgIHN0YWdnZXI6IDEsXG4gICAgICAgICAgICAgICAgZWFzZTogJ25vbmUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50byhcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5jYXB0aW9ucyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0YWdnZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIHk6IC0zMDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2U6ICdub25lJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIDAuOFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAvLyBTZXF1ZW5jZSB0cmlnZ2VyIGFuaW1hdGlvblxuICAgICAgICBjb25zdCB0bCA9IG5ldyBnc2FwLnRpbWVsaW5lKHtcbiAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiBlbGVtZW50cy5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgc2NydWI6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhcnQ6ICd0b3AgdG9wJyxcbiAgICAgICAgICAgICAgICBlbmQ6ICcxNjUlJywgLy8gc2NlbmUgZHVyYXRpb25cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHBpbiBibGFjayBnb2xkIGVnZyBjb250YWluZXJcbiAgICAgICAgLy8gcGluVHlwZTogdHJhbnNmb3JtIGlzIHJlcXVpcmVkIHdoZW4gdXNlIHBpbiB3aXRoIHNtb290aCBzY3JvbGxiYXJcbiAgICAgICAgY29uc3QgYmxhY2tDb250YWluZXIgPSBuZXcgZ3NhcC50aW1lbGluZSh7XG4gICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogZWxlbWVudHMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHNjcnViOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiAndG9wIHRvcCcsXG4gICAgICAgICAgICAgICAgZW5kOiAnMjAwJScsIC8vIHBpbiB0aWxsIHNlY3Rpb24gZnVsbHkgY292ZXJlZCBzbyAyMDAlXG4gICAgICAgICAgICAgICAgcGluOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBpblR5cGU6ICd0cmFuc2Zvcm0nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcGluIGNhcHRpb24gY29udGFpbmVyIHRvIGZpeCB0aGVtIHdoaWxlIHNsaWRlclxuICAgICAgICBjb25zdCBjYXB0aW9uc0NvbnRhaW5lciA9IG5ldyBnc2FwLnRpbWVsaW5lKHtcbiAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiBlbGVtZW50cy5jYXB0aW9uc0NvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBzY3J1YjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGFydDogJ3RvcCB0b3AnLFxuICAgICAgICAgICAgICAgIGVuZDogJzEwMCUnLCAvLyBwaW4gdGlsbCBzZWN0aW9uIGZ1bGx5IGNvdmVyZWQgc28gMjAwJVxuICAgICAgICAgICAgICAgIHBpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwaW5UeXBlOiAndHJhbnNmb3JtJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHBpbiBzaWx2ZXIgZWdnXG4gICAgICAgIGNvbnN0IHNpbHZlckNvbnRhaW5lciA9IG5ldyBnc2FwLnRpbWVsaW5lKHtcbiAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnLmpzLXNlcXVlbmNlX19zaWx2ZXItY29udGVudCcsXG4gICAgICAgICAgICAgICAgc2NydWI6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhcnQ6ICd0b3AgdG9wJyxcbiAgICAgICAgICAgICAgICBlbmQ6ICcyNDAlJyxcbiAgICAgICAgICAgICAgICBwaW46IHRydWUsXG4gICAgICAgICAgICAgICAgcGluVHlwZTogJ3RyYW5zZm9ybScsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzbWFsbGVyIGNhcmRcbiAgICAgICAgY29uc3QgdGw0ID0gZ3NhcC50aW1lbGluZSh7XG4gICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJy5qcy1zZXF1ZW5jZV9fYmxhY2stY29udGVudCcsXG4gICAgICAgICAgICAgICAgc2NydWI6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhcnQ6ICdib3R0b20gdG9wJyxcbiAgICAgICAgICAgICAgICBlbmQ6IGNhcmRNaW5pbWl6ZUVuZFRyaWdnZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzZXF1ZW5jZSBzaWx2ZXIgZWdnXG4gICAgICAgIGNvbnN0IHRsNSA9IG5ldyBnc2FwLnRpbWVsaW5lKHtcbiAgICAgICAgICAgIHNjcm9sbFRyaWdnZXI6IHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnLmpzLW5hdmlnYXRpb25fX3NlY3Rpb24tLWludHJvJyxcbiAgICAgICAgICAgICAgICBzY3J1YjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzdGFydDogJ3RvcCBjZW50ZXIrPTEwMCcsXG4gICAgICAgICAgICAgICAgZW5kOiAnKz02MDAnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFhY3RpdmVCcmVha3BvaW50cy5pbmNsdWRlcygnbW9iaWxlLWxhbmRzY2FwZScpKSB7XG4gICAgICAgICAgICB0bDQuZnJvbVRvKFxuICAgICAgICAgICAgICAgICcuanMtc2VxdWVuY2VfX3NpbHZlci1iZycsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogKCkgPT4gd2luZG93V2lkdGggKyB3aW5kb3dXaWR0aCAvIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAoKSA9PiB3aW5kb3dIZWlnaHQgKyB3aW5kb3dIZWlnaHQgLyAxMDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3aW5kb3dXaWR0aCAtIDQ4LFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ2NixcbiAgICAgICAgICAgICAgICAgICAgZWFzZTogJ25vbmUnLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0bDQuZnJvbVRvKFxuICAgICAgICAgICAgICAgICcuanMtc2VxdWVuY2VfX3NpbHZlci1iZycsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogKCkgPT4gd2luZG93V2lkdGggKyB3aW5kb3dXaWR0aCAvIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAoKSA9PiB3aW5kb3dIZWlnaHQgKyB3aW5kb3dIZWlnaHQgLyAxMDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MjcsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNlOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBnc2FwLnRvKCcuanMtc2VxdWVuY2VfX3NpbHZlci1lZ2cnLCB7XG4gICAgICAgICAgICBzY3JvbGxUcmlnZ2VyOiB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcjogJy5qcy1zZXF1ZW5jZV9fYmxhY2stY29udGVudCcsXG4gICAgICAgICAgICAgICAgc2NydWI6IHRydWUsXG4gICAgICAgICAgICAgICAgc3RhcnQ6ICdib3R0b20gdG9wJyxcbiAgICAgICAgICAgICAgICBlbmQ6IGNhcmRNaW5pbWl6ZUVuZFRyaWdnZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NhbGU6IHNpbHZlckVnZ1NjYWxlLFxuICAgICAgICAgICAgZWFzZTogJ25vbmUnLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyAzZCBlZ2dzXG4gICAgICAgIGlmICghYWN0aXZlQnJlYWtwb2ludHMuaW5jbHVkZXMoJ21vYmlsZS1sYW5kc2NhcGUnKSkge1xuICAgICAgICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6ICcuanMtc2VxdWVuY2VfX2JsYWNrLWNvbnRlbnQnLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBjYXJkUmV2ZWFsVHJpZ2dlcixcbiAgICAgICAgICAgICAgICBvbkVudGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdzYXAudG8oJy5qcy1zZXF1ZW5jZV9fc2lsdmVyLWNhcmQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICc2NSUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogRXhwby5lYXNlT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBnc2FwLnRvKCcuanMtc2VxdWVuY2VfX2dvbGQtY2FyZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogJzQ1JScsXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiBFeHBvLmVhc2VPdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkxlYXZlQmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnc2FwLnRvKCcuanMtc2VxdWVuY2VfX3NpbHZlci1jYXJkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZ3NhcC50bygnLmpzLXNlcXVlbmNlX19nb2xkLWNhcmQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6ICc1MCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogRXhwby5lYXNlT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNjcm9sbFRyaWdnZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiAnLmpzLXNlcXVlbmNlX19ibGFjay1jb250ZW50JyxcbiAgICAgICAgICAgICAgICBzdGFydDogY2FyZFJldmVhbFRyaWdnZXIsXG4gICAgICAgICAgICAgICAgb25FbnRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnc2FwLnRvKCcuanMtc2VxdWVuY2VfX3NpbHZlci1jYXJkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb25ZOiAtMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiBFeHBvLmVhc2VPdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZ3NhcC50bygnLmpzLXNlcXVlbmNlX19nb2xkLWNhcmQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvblk6IC0xMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVo6IC01MCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICc0MCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogRXhwby5lYXNlT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ3NhcC50bygnLmpzLXNlcXVlbmNlX19zaWx2ZXItY2FyZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uWTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBnc2FwLnRvKCcuanMtc2VxdWVuY2VfX2dvbGQtY2FyZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uWTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVo6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2U6IEV4cG8uZWFzZU91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGdzYXAudG8oJy5qcy1zZXF1ZW5jZV9fc2lsdmVyLWNhcmQnLCB7XG4gICAgICAgICAgICAvLyAgICAgc2Nyb2xsVHJpZ2dlcjoge1xuICAgICAgICAgICAgLy8gICAgICAgICB0cmlnZ2VyOiBcIi5qcy1zZXF1ZW5jZV9fc2lsdmVyLWNvbnRlbnRcIixcbiAgICAgICAgICAgIC8vICAgICAgICAgc3RhcnQ6ICcyMjAlJyxcbiAgICAgICAgICAgIC8vICAgICAgICAgZW5kOiAnMicsXG4gICAgICAgICAgICAvLyAgICAgICAgIHNjcnViOiB0cnVlLFxuXG4gICAgICAgICAgICAvLyAgICAgfSxcbiAgICAgICAgICAgIC8vICAgICB0cmFuc2xhdGVZOiAnMTAwcHgnLFxuICAgICAgICAgICAgLy8gICAgIGVhc2U6ICdub25lJyxcbiAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgLy8gZ3NhcC50bygnLmpzLXNlcXVlbmNlX19nb2xkLWNhcmQnLCB7XG4gICAgICAgICAgICAvLyAgICAgc2Nyb2xsVHJpZ2dlcjoge1xuICAgICAgICAgICAgLy8gICAgICAgICB0cmlnZ2VyOiBcIi5qcy1zZXF1ZW5jZV9fYmxhY2stY29udGVudFwiLFxuICAgICAgICAgICAgLy8gICAgICAgICBzdGFydDogY2FyZFJldmVhbFRyaWdnZXIsXG4gICAgICAgICAgICAvLyAgICAgICAgIGVuZDogJys9NDAlJyxcbiAgICAgICAgICAgIC8vICAgICAgICAgc2NydWI6IHRydWUsXG5cbiAgICAgICAgICAgIC8vICAgICB9LFxuICAgICAgICAgICAgLy8gICAgIHRyYW5zbGF0ZVk6ICcxMDBweCcsXG4gICAgICAgICAgICAvLyAgICAgZWFzZTogJ25vbmUnLFxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaWx2ZXIgZWdnIHNob3cgY2FwdGlvbiBhbmQgUVJcbiAgICAgICAgU2Nyb2xsVHJpZ2dlci5jcmVhdGUoe1xuICAgICAgICAgICAgdHJpZ2dlcjogJy5qcy1zZXF1ZW5jZV9fYmxhY2stY29udGVudCcsXG4gICAgICAgICAgICBzdGFydDogY2FyZFJldmVhbFRyaWdnZXIsXG4gICAgICAgICAgICBvbkVudGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZ3NhcC50byhcbiAgICAgICAgICAgICAgICAgICAgJy5qcy1zZXF1ZW5jZV9fc2lsdmVyLWNhcHRpb24nLFxuXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogRXhwby5lYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAuNCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZ3NhcC50byhcbiAgICAgICAgICAgICAgICAgICAgJy5qcy1zZXF1ZW5jZV9fc2lsdmVyLWljb24nLFxuXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWFzZTogRXhwby5lYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAuNCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBnc2FwLnRvKFxuICAgICAgICAgICAgICAgICAgICAnLmpzLXNlcXVlbmNlX19zaWx2ZXItY2FwdGlvbicsXG5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiBFeHBvLmVhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC40LFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBnc2FwLnRvKFxuICAgICAgICAgICAgICAgICAgICAnLmpzLXNlcXVlbmNlX19zaWx2ZXItaWNvbicsXG5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiBFeHBvLmVhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMC40LFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChhY3RpdmVCcmVha3BvaW50cy5pbmNsdWRlcygndGFibGV0JykpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gYWxsIGltYWdlcyByZWFkeVxuICAgICAgICAgICAgaW1hZ2VzLnRoZW4oKGltZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudGVyID0geyBpOiAwIH07IC8vIGl0ZXJhdGlvbiBvYmplY3RcblxuICAgICAgICAgICAgICAgIHRsLnRvKFxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpOiBpbWdzLmxlbmd0aCAtIDEsIC8vIGluY3JlbWVudCBjb3VudGVyIHRvIGZyYW1lcyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kUHJvcHM6ICdpJywgLy8gcm91bmQsIG9ubHkgaW50XG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiAnbm9uZScsIC8vIGVhc2UgcHJvdmlkZWQgYnkgc21vb3RoLXNjcm9sbCBtb21lbnR1bVxuICAgICAgICAgICAgICAgICAgICAgICAgaW1tZWRpYXRlUmVuZGVyOiB0cnVlLCAvLyByZW5kZXIgZmlyc3QgZnJhbWUgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiBjYWxjRHJhd0ltYWdlKGN0eCwgaW1nc1tjb3VudGVyLmldKSwgLy8gZHJhdyBpbWFnZSBpbiBjYW52YXMgd2hlbiB0aW1lbGluZSB1cGRhdGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBkcmF3IGN1cnJlbnQgZnJhbWUgYWdhaW4gd2hlbiBzY3JvbGwgc3RvcHBlZCBhbmQgcmVzaXplIGhhcHBlbmVkXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IGNhbGNEcmF3SW1hZ2UoY3R4LCBpbWdzW2NvdW50ZXIuaV0pKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpbWFnZXNTaWx2ZXIudGhlbigoaW1ncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ZXIgPSB7IGk6IDAgfTsgLy8gaXRlcmF0aW9uIG9iamVjdFxuXG4gICAgICAgICAgICAgICAgdGw1LnRvKFxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpOiBpbWdzLmxlbmd0aCAtIDEsIC8vIGluY3JlbWVudCBjb3VudGVyIHRvIGZyYW1lcyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kUHJvcHM6ICdpJywgLy8gcm91bmQsIG9ubHkgaW50XG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNlOiAnbm9uZScsIC8vIGVhc2UgcHJvdmlkZWQgYnkgc21vb3RoLXNjcm9sbCBtb21lbnR1bVxuICAgICAgICAgICAgICAgICAgICAgICAgaW1tZWRpYXRlUmVuZGVyOiB0cnVlLCAvLyByZW5kZXIgZmlyc3QgZnJhbWUgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiBjYWxjRHJhd0ltYWdlKGN0eFNpbHZlciwgaW1nc1tjb3VudGVyLmldKSwgLy8gZHJhdyBpbWFnZSBpbiBjYW52YXMgd2hlbiB0aW1lbGluZSB1cGRhdGVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBkcmF3IGN1cnJlbnQgZnJhbWUgYWdhaW4gd2hlbiBzY3JvbGwgc3RvcHBlZCBhbmQgcmVzaXplIGhhcHBlbmVkXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IGNhbGNEcmF3SW1hZ2UoY3R4U2lsdmVyLCBpbWdzW2NvdW50ZXIuaV0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5pdCgpO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/components/vanilla/sequence.js\n");

/***/ }),

/***/ "./src/js/models/utils/calc-draw-image.js":
/*!************************************************!*\
  !*** ./src/js/models/utils/calc-draw-image.js ***!
  \************************************************/
/*! exports provided: calcDrawImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calcDrawImage\", function() { return calcDrawImage; });\n/*** IMPORTS FROM imports-loader ***/var define=false;/**\n * Draw and scale image in canvas\n */var calcDrawImage=function calcDrawImage(ctx,image,left,top){if(left===void 0){left=0.5;}if(top===void 0){top=0.5;}var cWidth=ctx.canvas.width;var cHeight=ctx.canvas.height;var width=image.width;var height=image.height;var ratio=width/height;var cRatio=cWidth/cHeight;var resultHeight,resultWidth;if(ratio>cRatio){resultHeight=cHeight;resultWidth=cHeight*ratio;}else{resultWidth=cWidth;resultHeight=cWidth/ratio;}ctx.drawImage(image,(cWidth-resultWidth)*left,(cHeight-resultHeight)*top,resultWidth,resultHeight);};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZWxzL3V0aWxzL2NhbGMtZHJhdy1pbWFnZS5qcz9jZDFmIl0sIm5hbWVzIjpbImRlZmluZSIsImNhbGNEcmF3SW1hZ2UiLCJjdHgiLCJpbWFnZSIsImxlZnQiLCJ0b3AiLCJjV2lkdGgiLCJjYW52YXMiLCJ3aWR0aCIsImNIZWlnaHQiLCJoZWlnaHQiLCJyYXRpbyIsImNSYXRpbyIsInJlc3VsdEhlaWdodCIsInJlc3VsdFdpZHRoIiwiZHJhd0ltYWdlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEscUNBQ0EsR0FBSUEsT0FBTSxDQUFHLEtBQWIsQ0FFQTtBQUNBO0FBQ0EsR0FDTyxHQUFNQyxjQUFhLENBQUcsUUFBaEJBLGNBQWdCLENBQUNDLEdBQUQsQ0FBTUMsS0FBTixDQUFhQyxJQUFiLENBQXlCQyxHQUF6QixDQUF1QyxJQUExQkQsSUFBMEIsV0FBMUJBLElBQTBCLENBQW5CLEdBQW1CLEtBQWRDLEdBQWMsV0FBZEEsR0FBYyxDQUFSLEdBQVEsRUFDaEUsR0FBTUMsT0FBTSxDQUFHSixHQUFHLENBQUNLLE1BQUosQ0FBV0MsS0FBMUIsQ0FDQSxHQUFNQyxRQUFPLENBQUdQLEdBQUcsQ0FBQ0ssTUFBSixDQUFXRyxNQUEzQixDQUNBLEdBQU1GLE1BQUssQ0FBR0wsS0FBSyxDQUFDSyxLQUFwQixDQUNBLEdBQU1FLE9BQU0sQ0FBR1AsS0FBSyxDQUFDTyxNQUFyQixDQUNBLEdBQU1DLE1BQUssQ0FBR0gsS0FBSyxDQUFHRSxNQUF0QixDQUNBLEdBQU1FLE9BQU0sQ0FBR04sTUFBTSxDQUFHRyxPQUF4QixDQUNBLEdBQUlJLGFBQUosQ0FBa0JDLFdBQWxCLENBRUEsR0FBSUgsS0FBSyxDQUFHQyxNQUFaLENBQW9CLENBQ2hCQyxZQUFZLENBQUdKLE9BQWYsQ0FDQUssV0FBVyxDQUFHTCxPQUFPLENBQUdFLEtBQXhCLENBQ0gsQ0FIRCxJQUdPLENBQ0hHLFdBQVcsQ0FBR1IsTUFBZCxDQUNBTyxZQUFZLENBQUdQLE1BQU0sQ0FBR0ssS0FBeEIsQ0FDSCxDQUVEVCxHQUFHLENBQUNhLFNBQUosQ0FDSVosS0FESixDQUVJLENBQUNHLE1BQU0sQ0FBR1EsV0FBVixFQUF5QlYsSUFGN0IsQ0FHSSxDQUFDSyxPQUFPLENBQUdJLFlBQVgsRUFBMkJSLEdBSC9CLENBSUlTLFdBSkosQ0FLSUQsWUFMSixFQU9ILENBeEJNIiwiZmlsZSI6Ii4vc3JjL2pzL21vZGVscy91dGlscy9jYWxjLWRyYXctaW1hZ2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbi8qKlxuICogRHJhdyBhbmQgc2NhbGUgaW1hZ2UgaW4gY2FudmFzXG4gKi9cbmV4cG9ydCBjb25zdCBjYWxjRHJhd0ltYWdlID0gKGN0eCwgaW1hZ2UsIGxlZnQgPSAwLjUsIHRvcCA9IDAuNSkgPT4ge1xuICAgIGNvbnN0IGNXaWR0aCA9IGN0eC5jYW52YXMud2lkdGg7XG4gICAgY29uc3QgY0hlaWdodCA9IGN0eC5jYW52YXMuaGVpZ2h0O1xuICAgIGNvbnN0IHdpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xuICAgIGNvbnN0IHJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG4gICAgY29uc3QgY1JhdGlvID0gY1dpZHRoIC8gY0hlaWdodDtcbiAgICBsZXQgcmVzdWx0SGVpZ2h0LCByZXN1bHRXaWR0aDtcblxuICAgIGlmIChyYXRpbyA+IGNSYXRpbykge1xuICAgICAgICByZXN1bHRIZWlnaHQgPSBjSGVpZ2h0O1xuICAgICAgICByZXN1bHRXaWR0aCA9IGNIZWlnaHQgKiByYXRpbztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRXaWR0aCA9IGNXaWR0aDtcbiAgICAgICAgcmVzdWx0SGVpZ2h0ID0gY1dpZHRoIC8gcmF0aW87XG4gICAgfVxuXG4gICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgaW1hZ2UsXG4gICAgICAgIChjV2lkdGggLSByZXN1bHRXaWR0aCkgKiBsZWZ0LFxuICAgICAgICAoY0hlaWdodCAtIHJlc3VsdEhlaWdodCkgKiB0b3AsXG4gICAgICAgIHJlc3VsdFdpZHRoLFxuICAgICAgICByZXN1bHRIZWlnaHRcbiAgICApO1xufTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/models/utils/calc-draw-image.js\n");

/***/ }),

/***/ "./src/js/models/utils/preload-images.js":
/*!***********************************************!*\
  !*** ./src/js/models/utils/preload-images.js ***!
  \***********************************************/
/*! exports provided: preloadImage, preloadImages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preloadImage\", function() { return preloadImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"preloadImages\", function() { return preloadImages; });\n/*** IMPORTS FROM imports-loader ***/var define=false;/**\n * Load image via XHR as blob\n */var preloadImage=function preloadImage(src){return new Promise(function(resolve,reject){var img=new Image();var xhr=new XMLHttpRequest();xhr.open('GET',src,true);xhr.responseType='blob';xhr.onload=function(){img.src=URL.createObjectURL(xhr.response);img.onload=function(){return resolve(img);};};xhr.onerror=function(){return reject();};xhr.send();});};/**\n * Batch load images via XHR as blob\n */var preloadImages=function preloadImages(urls){return Promise.all(urls.map(function(src){return preloadImage(src);}));};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZWxzL3V0aWxzL3ByZWxvYWQtaW1hZ2VzLmpzPzVlZTMiXSwibmFtZXMiOlsiZGVmaW5lIiwicHJlbG9hZEltYWdlIiwic3JjIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbWciLCJJbWFnZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJlc3BvbnNlIiwib25lcnJvciIsInNlbmQiLCJwcmVsb2FkSW1hZ2VzIiwidXJscyIsImFsbCIsIm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUEscUNBQ0EsR0FBSUEsT0FBTSxDQUFHLEtBQWIsQ0FFQTtBQUNBO0FBQ0EsR0FDTyxHQUFNQyxhQUFZLENBQUcsUUFBZkEsYUFBZSxDQUFDQyxHQUFELENBQVMsQ0FDakMsTUFBTyxJQUFJQyxRQUFKLENBQVksU0FBQ0MsT0FBRCxDQUFVQyxNQUFWLENBQXFCLENBQ3BDLEdBQU1DLElBQUcsQ0FBRyxHQUFJQyxNQUFKLEVBQVosQ0FDQSxHQUFNQyxJQUFHLENBQUcsR0FBSUMsZUFBSixFQUFaLENBRUFELEdBQUcsQ0FBQ0UsSUFBSixDQUFTLEtBQVQsQ0FBZ0JSLEdBQWhCLENBQXFCLElBQXJCLEVBQ0FNLEdBQUcsQ0FBQ0csWUFBSixDQUFtQixNQUFuQixDQUNBSCxHQUFHLENBQUNJLE1BQUosQ0FBYSxVQUFNLENBQ2ZOLEdBQUcsQ0FBQ0osR0FBSixDQUFVVyxHQUFHLENBQUNDLGVBQUosQ0FBb0JOLEdBQUcsQ0FBQ08sUUFBeEIsQ0FBVixDQUNBVCxHQUFHLENBQUNNLE1BQUosQ0FBYSxpQkFBTVIsUUFBTyxDQUFDRSxHQUFELENBQWIsRUFBYixDQUNILENBSEQsQ0FJQUUsR0FBRyxDQUFDUSxPQUFKLENBQWMsaUJBQU1YLE9BQU0sRUFBWixFQUFkLENBQ0FHLEdBQUcsQ0FBQ1MsSUFBSixHQUNILENBWk0sQ0FBUCxDQWFILENBZE0sQ0FnQlA7QUFDQTtBQUNBLEdBQ08sR0FBTUMsY0FBYSxDQUFHLFFBQWhCQSxjQUFnQixDQUFDQyxJQUFELENBQVUsQ0FDbkMsTUFBT2hCLFFBQU8sQ0FBQ2lCLEdBQVIsQ0FBWUQsSUFBSSxDQUFDRSxHQUFMLENBQVMsU0FBQ25CLEdBQUQsUUFBU0QsYUFBWSxDQUFDQyxHQUFELENBQXJCLEVBQVQsQ0FBWixDQUFQLENBQ0gsQ0FGTSIsImZpbGUiOiIuL3NyYy9qcy9tb2RlbHMvdXRpbHMvcHJlbG9hZC1pbWFnZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbi8qKlxuICogTG9hZCBpbWFnZSB2aWEgWEhSIGFzIGJsb2JcbiAqL1xuZXhwb3J0IGNvbnN0IHByZWxvYWRJbWFnZSA9IChzcmMpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNyYywgdHJ1ZSk7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QoKTtcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogQmF0Y2ggbG9hZCBpbWFnZXMgdmlhIFhIUiBhcyBibG9iXG4gKi9cbmV4cG9ydCBjb25zdCBwcmVsb2FkSW1hZ2VzID0gKHVybHMpID0+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwodXJscy5tYXAoKHNyYykgPT4gcHJlbG9hZEltYWdlKHNyYykpKTtcbn07XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/models/utils/preload-images.js\n");

/***/ })

}]);